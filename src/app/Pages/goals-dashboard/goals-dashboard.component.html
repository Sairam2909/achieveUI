<!-- Goals details card -->
<div class="container mt-5" style="width: 70rem; margin: 0 auto;">
    <div class="card text-center" style=" background-color: white;" >
        <div class="card-header d-flex justify-content-between align-items-center" style="font-weight: bold;">
            <span style="font-size: 25px;">Your Objectives</span>
            <button (click)="redirectToCreateGoalForm()" class="btn btn" style="font-weight: bold; background-color: #4b47b5; color: white;"> <i
                    class="bi bi-plus-circle"></i> Create Goals</button>
        </div>
        <div class="card-body d-flex gap-3 flex-wrap justify-content-between">

            <div class="card mb-3" style="width: 15rem;">
                <div class="card-body">
                    <h1 class="card-text">{{ allGoals.length }}</h1>
                    <h5 class="card-title" style="color: #4b47b5; font-weight: bold;"><i class="bi bi-eye-fill"></i> Active Goals</h5>
                </div>
            </div>

            <div class="card mb-3" style="width: 15rem;">
                <div class="card-body">
                    <h1 class="card-text">80%</h1>
                    <h5 class="card-title" style="color: #4b47b5; font-weight: bold;"><i class="bi bi-star-fill"></i> Progress</h5>
                </div>
            </div>

            <div class="card mb-3" style="width: 15rem;">
                <div class="card-body">
                    <h1 class="card-text">{{countCompletedGoals()}}</h1>
                    <h5 class="card-title" style="color: #4b47b5; font-weight: bold;"><i class="bi bi-check-circle-fill"></i> Completed</h5>
                    
                </div>
            </div>

            <div class="card mb-3" style="width: 15rem;">
                <div class="card-body">
                    <h1 class="card-text">1</h1>
                    <h5 class="card-title" style="color: #4b47b5; font-weight: bold;"><i class="bi bi-hourglass-split"></i> Due in 30 Days</h5>
                    
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Goals card -->
<div class="container mt-5" style="width: 70rem; margin: 0 auto;">
    @if (allGoals.length > 0) {
        @for (goal of allGoals; track goal; let i = $index) {
        <div class="card text my-2" style="width: 70rem;  background-color: white;">
            <div class="card-body">
                <div class="d-flex justify-content-start">
                    <i class="bi bi-arrow-right-circle"
                        style="color: #4b47b5; font-weight: bold; font-size: 40px; margin: 10px;"></i>
                    <p>{{goal.description}}</p>
                </div>
                <div class="d-flex justify-content" style="margin-left:57px;"> <p class="card-text"
                    style="color: grey; font-weight: bold; margin-right: 10px; padding-right: 10px;border-right: 1px solid #ccc;">
                    <i class="bi bi-calendar"></i> {{getNumberOfDays(i) > 0 ? 'Due in ' + getNumberOfDays(i) + (getNumberOfDays(i) > 1 ? ' days' : ' day') : 'Overdue by ' + (getNumberOfDays(i) * -1) + ((getNumberOfDays(i) * -1) > 1 ? ' days' : ' day')}}
                </p>
                <p class="card-text"
                    style="color: grey; font-weight: bold; margin-right: 10px;padding-right: 10px;">
                    Status: {{goal.status}}</p></div>
                <div class="d-flex justify-content-end mt-1">
                    @if (goal.status !== 'Submitted') {
                    <button class="btn btn"
                        style="font-weight: bold; background-color: #4b47b5; color: white; margin-right: 10px;"
                        (click)="editGoal(i)">Edit
                        Goal</button>
                    } 
                    <!-- @else if (goal.status === 'Submitted') {
                    <button class="btn btn"
                        style="font-weight: bold; background-color: #4b47b5; color: white; margin-right: 10px;">Completed</button>
                    } -->
                </div>
            </div>
        </div>
        }
    } @else {
        <div style="display: flex; justify-content: center; align-items: center;">
            <h3>Click on Create Goals to get started</h3>
        </div>
    }
</div>